<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> New Cart Page</title>
    <link rel="stylesheet" href="./cartNew.css">
</head>
<body>
   <!-- Navbar section -->
   <div id="navbar">
    <div id="navbar-left">
        <img id="site-logo" src="https://assets.ajio.com/static/img/Ajio-Logo.svg" alt="">
    </div>
    <div id="navbar-right">
        <div id="right-upper">
            <a href=""><p id="ru">Sign In / Join AJIO</p></a>
            <a href=""><p id="ru">Customer Care</p></a>
            <button id="navbar-button">Visit AJIOLUXE</button>
        </div>
        <div id="right-lower">
            <p id="rl">MEN</p>
            <p id="rl">WOMEN</p>
            <p id="rl">KIDS</p>
            <p id="rl">INDIE</p>
            <p id="rl">HOME AND KITCHEN</p>
            <input id="navbar-input" type="text" placeholder="Search AJIO">
            <img id="bar-img" src="https://i.pinimg.com/originals/fc/fa/0c/fcfa0c367d786deeaf42dec2fda70e47.png" alt="">
            <img id="bar-img"  src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTjHuCTCHiz7-sR9YwmlVHDZ0UXU-tcjDRIzmGlub9of64k0gsAJXe29kR-9Bpfj1f_YAg&usqp=CAU" alt="">
        </div>
    </div>
    </div>

    <div id="navbar-image">
        <img id="navbar-img" src="https://assets.ajio.com/medias/sys_master/images/images/hd3/h34/47497754640414/16022022-D-Unisex-topstrip.jpg" alt="">
      </div>


      <!-- cart section -->
     
    <div>
        <h1 id="my bag" style="text-align:center ;">My Bag</h1>
    </div>

    <div id="Cart">

     <div id="left-Cart">
      <!-- <div id="item in cart">
         <div id="img in cart">
        <img src="" alt="">
      </div>
      <div id="name of product">
         <h5></h5>
      </div>
      <div id="qty">
        <h4>quantity <span>qty</span></h4>
      </div>
        <div id="total price">
          <div>Price <span> </span></div>
          <div>Delete</div>
        </div>
      </div> 
    </div> -->
</div>

    <div id="Right-Cart">
        <div id="details">
        <h3>Order Details</h3>
        <div><span>Bag Total</span>  <span id = 'bag-total'></span></div>
        <div><span>Delivery Fees: </span><span>Free</span></div>
        <div><span>Total Amount</span> <span id = 'total-amount'></span></div>
        <a href="./address.html"><button class="shipping_btn">PROCEED TO SHIPPING</button></a>
      </div>

        <div id="coupon">
            <div id="coupon-header"> <h3>Apply Coupon</h3></div>
            <div id="coupon-input-box"><input id="coupon-input" type="text" placeholder="Enter Coupon Code"><button id="coupon-btn">Apply</button></div>
            <div id="valid-coupons">
              <h4>Applicable Coupons</h4>
            <ul id="coupon-lists">
            <li class="list1">
                <div class="detail-info">
                <p>"Savings :" <span> &#8377 500</span></p>
                <p>apply : FIRSTBUY</p>
                <p>Get Up To Extra 25% Off On â‚¹1490 On Your First Purchase. Max Discount Rs. 2000.</p>
                </div>
         <hr>
            </li>
            <li class="list2">
                <div class="detail info">
                    <p>"Savings :" <span> &#8377 250</span></p>
                    <p>apply : AJIO_USER</p>
                    <p>Get Up To Extra 15% Off On &#8377 1000 On Every Purchase. Max Discount Rs. 1500.</p>
                    </div>
            </li>
            </ul>
            </div>
         </div>
    </div> 
        </div>

          <!-- mid imgs -->
          <hr class="hr">

<div class="bottom_icons">
    <div class="exchange_icons">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTOSleffsgSsashwROvgH26qoTpSqlQBMe0Shd5emGuHC7qRZTl" alt=""><br><br>
        <div>EASY EXCHANGE</div>
    </div>

    <div class="exchange_icons">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcStPsdLlQq9T_-o_ndL1lc66uwb0rnsXF7tdft3ExBdkJik6LAa" alt=""><br><br>
        <div>100% HANDPICKED</div>
    </div>

    <div class="exchange_icons">
        <img src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcScEyVI4gDhOVv62XgCYGYnZImfcezYA1huL35dY6yZARjpV6-2" alt=""><br><br>
        <div>ASSURED QUALITY</div>
    </div>

</div>
 <hr> 

<!-- footer -->

<footer class="footer">
    <div class="row">
        <div class="footer-col">
            <h4>Ajio</h4>
            <ul>
                <li><a href="#">Who We Are</a></li>
                <li><a href="#">Join Our Team</a></li>
                <li><a href="#">Terms & Conditions</a></li>
                <li><a href="#">We Respect Your Privacy</a></li>
                <li><a href="#">Fees & Payments</a></li>
                <li><a href="#">Returns & Refunds Policy</a></li>
                <li><a href="#">Promotions Terms & Conditions</a></li>
            </ul>
        </div>
        <div class="footer-col">
            <h4>HELP</h4>
            <ul>
                <li><a href="#">Track Your Order</a></li>
                <li><a href="#">Frequently Asked Questions</a></li>
                <li><a href="#">Returns</a></li>
                <li><a href="#">Cancellations</a></li>
                <li><a href="#">Payments</a></li>
                <li><a href="#">Customer Care</a></li>
                <li><a href="#">How Do I Redeem My Coupon</a></li>
            </ul>
        </div>

        <div class="footer-col">
            <h4>Shop by</h4>
            <ul>
                <li><a href="#">Men</a></li>
                <li><a href="#">Women</a></li>
                <li><a href="#">Kids</a></li>
                <li><a href="#">Indie</a></li>
                <li><a href="#">Stores</a></li>
                <li><a href="#">New Arrivals</a></li>
                <li><a href="#">Brand Directory</a></li>
                <li><a href="#">Home</a></li>
                <li><a href="#">Collections</a></li>
            </ul>
        </div>

        <div class="footer-col">
            <h4>Follow us</h4>
            <ul>
                <li><a href="#">Facebook</a></li>
                <li><a href="#">Instagram=AJIOlife</a></li>
                <li><a href="#">Instagram=AJIO LUXE</a></li>
                <li><a href="#">Twitter</a></li>
                <li><a href="#">Pinterest</a></li>
            </ul>
        </div>
    </div>
</footer>

<!-- <hr /> -->

<div id="bottom-footer">

    <div id="main">
        <div>
            <p>Payment Methods</p>
        </div>
        <div id="btm-left">
            <p>Net Banking</p>
            <p>Verified By Visa</p>
            <p>Naster Card</p>
            <p>CASH ON DELIVERY</p>
            <p>Jio Money</p>
        </div>
    </div>
    <div id="btm-right">
        <p>Secure systems</p>
        <p>256 BIT</p>
    </div>

    <div id="f-btns">
        <button id="foot-btn">></button>
        <button id="foot-btn1">...</button>
        
    </div>
</body>
</html>
<script>
    var Data = [
    {
        imageURL:
            "https://assets.ajio.com/medias/sys_master/root/20220127/RXhg/61f2daaef997dd66234079f3/gosriki_pink_geometric_print_straight_kurta_set.jpg",
        brand: "GOSRIKI",
        product: "Geometric Print Straight Kurta Set",
        gender: "female",
        category: "kurta",
        price: 895,
        strikedOffPrice: 3196,
        cartQuantity:1
    },
    {
        imageURL:
            "https://assets.ajio.com/medias/sys_master/root/20220124/8ATC/61eeae7af997dd662337baf6/gulmohar_jaipur_yellow_floral_printed_straight_kurta_set.jpg",
        brand: "GULMOHAR JAIPUR",
        product: "Floral Printed Straight Kurta Set",
        gender: "female",
        category: "kurta",
        price: 1199,
        strikedOffPrice: 2499,
      cartQuantity:1
    },
    {
        imageURL:
            "https://assets.ajio.com/medias/sys_master/root/20220124/IYjE/61eeadd8f997dd662337b165/gulmohar_jaipur_maroon_floral_print_straight_kurta_set.jpg",
        brand: "GULMOHAR JAIPUR",
        product: "Floral Print Straight Kurta Set",
        gender: "female",
        category: "kurta",
        price: 1199,
        strikedOffPrice: 2499,
      cartQuantity:1
    },
    {
        imageURL:
            "https://assets.ajio.com/medias/sys_master/root/20211006/ntzG/615d2b66f997ddce89026c9f/ishoo_white_polka-dot_flared_kurta_set.jpg",
        brand: "ISHOO",
        product: "Polka-dot Flared Kurta Set",
        gender: "female",
        category: "kurta",
        price: 959,
        strikedOffPrice: 1599,
        cartQuantity:1
    },
    {
        imageURL:
            "https://assets.ajio.com/medias/sys_master/root/20220124/zTEx/61eeac9bf997dd6623379e6d/gulmohar_jaipur_teal_floral_print_flared_kurta_set.jpg",
        brand: "GULMOHAR JAIPUR",
        product: "Floral Print Flared Kurta Set",
        gender: "female",
        category: "kurta",
        price: 1299,
        strikedOffPrice: 2499,
      cartQuantity:1
    },
    {
        imageURL:
            "https://assets.ajio.com/medias/sys_master/root/20211125/cMM7/619fbe5aaeb2690110d8b766/gosriki_pink_floral_printed_straight_kurta_sets.jpg",
        brand: "GOSRIKI",
        product: "Floral Printed Straight Kurta Sets",
        gender: "female",
        category: "kurta",
        price: 895,
        strikedOffPrice: 3401,
        cartQuantity:1
    }
]
    
  var cart = JSON.parse(localStorage.getItem("CartItems")) || [];
  if(cart.length==0){
    localStorage.setItem("CartItems",JSON.stringify(Data));
    window.location.href = "./emptyCart.html";
  }
  var totalAmount = 0;
  calculateTotalCartAmount()
  display(cart);

  function display(cart){
    document.getElementById("left-Cart").innerHTML = "";
    cart.map(function(el,index){
    var div = document.createElement("div");
    div.className = "product-data";
    var imgDiv = document.createElement("div");
    var image = document.createElement("img");
    image.setAttribute("src",el.imageURL);
    image.setAttribute("alt",el.product);
    imgDiv.append(image);
    var productDiv = document.createElement("div");
    var product = document.createElement("h5");
    product.innerText = el.product;
     productDiv.append(product);
     var divBox = document.createElement("div");
    var divContainer = document.createElement("div");
    divContainer.className = "divContainer";
    var decre = document.createElement("button");
    decre.innerText = "-"
    decre.addEventListener("click",function(){
        el.cartQuantity =  decrementValue(index,el.cartQuantity);
        quantity.value = el.cartQuantity
        price.innerText = "Rs. :" + (+el.cartQuantity*el.price);
        localStorage.setItem("CartItems",JSON.stringify(cart));
        calculateTotalCartAmount()
    });
    var quantity = document.createElement("input");
    quantity.value =el.cartQuantity;
     quantity.style.width = "8%";
    
    var incre = document.createElement("button");
    incre.innerText = "+"
    incre.addEventListener("click",function(){
        el.cartQuantity =  incrementValue(index,el.cartQuantity);
        quantity.value = el.cartQuantity
        price.innerText = "Rs. :" + (+el.cartQuantity*el.price);
        localStorage.setItem("CartItems",JSON.stringify(cart));
        calculateTotalCartAmount()

    });
    divContainer.append(decre,quantity,incre);
     var price = document.createElement("p");
     price.innerText = "Rs. :" + (+el.cartQuantity*el.price);
     
    
    var remove = document.createElement("button");
    remove.innerText = "Delete from Cart";
    remove.addEventListener("click",function(){
        dltFromCart(index);
    });
    divBox.append(divContainer,price,remove);
    div.append(imgDiv,productDiv,divBox);
     document.getElementById("left-Cart").append(div);
   }); 
  }

  function dltFromCart(index){
     cart.splice(index,1);
     localStorage.setItem("CartItems",JSON.stringify(cart));
     display(cart);
  }
  function decrementValue(index, itemQuantity){
    --itemQuantity;
    if(itemQuantity===0){
        cart.splice(index,1); 
        localStorage.setItem("CartItems",JSON.stringify(cart));
        display(cart);
    }
    return itemQuantity;
  }
  function incrementValue(index, itemQuantity){
    return ++itemQuantity;
  }

  function calculateTotalCartAmount(){
    totalAmount=0;
    let cart = JSON.parse(localStorage.getItem("CartItems"))
    cart.forEach(element => {
    totalAmount+=element.cartQuantity*element.price
  });
  document.getElementById('total-amount').innerText = `Rs. ${totalAmount}`
  document.getElementById('bag-total').innerText = `Rs. ${totalAmount}`
  }
  document.getElementById('coupon-btn').addEventListener("click",function(){
    applyCoupon()

  })
  function applyCoupon(){
    var couponCode = document.getElementById('coupon-input').value
    console.log("---cou--",couponCode)
    if(couponCode=="FIRSTBUY"){
        totalAmount=totalAmount-500;
    }else if(couponCode == "AJIO_USER"){
        totalAmount=totalAmount-250;
    }
    document.getElementById('total-amount').innerText = `Rs. ${totalAmount}`
  document.getElementById('bag-total').innerText = `Rs. ${totalAmount}`
  }
 

</script>